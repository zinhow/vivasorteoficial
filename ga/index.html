<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    
<!-- Meta Pixel Code -->
<script>
!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '1163271902612727');
fbq('track', 'PageView');
</script>
<noscript><img height="1" width="1" style="display:none"
src="https://www.facebook.com/tr?id=1163271902612727&ev=PageView&noscript=1"
/></noscript>
<!-- End Meta Pixel Code -->
<script>
  window.pixelId = "69139efb4872bb4535e49d2c";
  var a = document.createElement("script");
  a.setAttribute("async", "");
  a.setAttribute("defer", "");
  a.setAttribute("src", "https://cdn.utmify.com.br/scripts/pixel/pixel.js");
  document.head.appendChild(a);
</script>
<script
  src="https://cdn.utmify.com.br/scripts/utms/latest.js"
  data-utmify-prevent-xcod-sck
  data-utmify-prevent-subids
  async
  defer
></script>    
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Redirecionamento</title>
</head>
<body>
<script>// Função para obter o número de vezes que o usuário visitou a página

function getVisitCount() {

  // Obtém o valor armazenado no local storage ou retorna 0 se não existir

  return parseInt(localStorage.getItem('visitCount')) || 0;

}

// Função para obter parâmetros UTM da URL atual

function getUTMParameters() {

  const urlParams = new URLSearchParams(window.location.search);

  const utmParams = [];

  

  // Lista de parâmetros UTM comuns

  const utmKeys = ['utm_source', 'utm_medium', 'utm_campaign', 'utm_term', 'utm_content'];

  

  // Verifica cada parâmetro UTM

  utmKeys.forEach(key => {

    if (urlParams.has(key)) {

      utmParams.push(`${key}=${encodeURIComponent(urlParams.get(key))}`);

    }

  });

  

  // Verifica se há outros parâmetros que começam com 'utm_'

  for (const [key, value] of urlParams.entries()) {

    if (key.startsWith('utm_') && !utmKeys.includes(key)) {

      utmParams.push(`${key}=${encodeURIComponent(value)}`);

    }

  }

  

  // Retorna string de parâmetros UTM ou string vazia

  return utmParams.length > 0 ? '?' + utmParams.join('&') : '';

}

// Função para redirecionar com base no número de visitas

function redirectToPage() {

  var visitCount = getVisitCount();

  // Determina a página de redirecionamento com base no número de visitas

  var nextPage;

  switch (visitCount) {

    case 0: nextPage = '../up1'; break;

    case 1: nextPage = '../up3'; break;

    case 2: nextPage = '../up4'; break;

    case 3: nextPage = '../up5'; break;

    case 4: nextPage = '../up'; break;
    
    case 5: nextPage = '../up1'; break;

    case 6: nextPage = '../up3'; break;

    case 7: nextPage = '../up4'; break;

    case 8: nextPage = '../up5'; break;

    case 9: nextPage = '../up'; break;

    case 10: nextPage = '../up1'; break;

  }

  

  // Incrementa o número de visitas

  localStorage.setItem('visitCount', visitCount + 1);

  

  // Obtém os parâmetros UTM

  const utmParams = getUTMParameters();

  

  // Redireciona para a próxima página com os parâmetros UTM

  window.location.href = nextPage + utmParams;

}

// Chama a função de redirecionamento quando a página é carregada

redirectToPage();</script>

</body>
</html>